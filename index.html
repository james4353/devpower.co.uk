<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Welcome to Dev Power &#8211; 💪 Dev Power</title>
<meta name="description" content="The place for the most comprehensive tech articles">
<meta name="keywords" content="dev, software, programming, code, tech">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@_dev_power_">
<meta name="twitter:creator" content="@_dev_power_">

<!-- Open Graph -->
<meta property="og:locale" content="en_GB">
<meta property="og:type" content="article">
<meta property="og:title" content="Welcome to Dev Power">
<meta property="og:description" content="The place for the most comprehensive tech articles">
<meta property="og:url" content="https://devpower.co.uk/">
<meta property="og:site_name" content="💪 Dev Power">
<meta property="og:image" content="https://devpower.co.uk/images/">





<link rel="canonical" href="https://devpower.co.uk/">
<link href="https://devpower.co.uk/feed.xml" type="application/atom+xml" rel="alternate" title="💪 Dev Power Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>

<!-- For all browsers -->
<link rel="stylesheet" href="https://devpower.co.uk/assets/css/main.css">
<link rel="stylesheet" href="https://devpower.co.uk/assets/css/jquery.mmenu.all.css">
<link rel="stylesheet" href="https://devpower.co.uk/assets/css/jquery.floating-social-share.min.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script type="text/javascript" src="https://devpower.co.uk/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://devpower.co.uk/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://devpower.co.uk/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://devpower.co.uk/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://devpower.co.uk/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://devpower.co.uk/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://devpower.co.uk/images/apple-touch-icon-144x144-precomposed.png">




<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996"
     crossorigin="anonymous"></script>
</head>

<body id="post-index">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->




<div class="header-menu header-menu-top">
  <ul class="header-item-container">
      <li class="header-item-title header-toggle "><a href="#menu"><h2><i class="fa fa-bars"></i></h2></a></li>
      <li class="header-item-title">
        <a href="https://devpower.co.uk/">
          
          </a><a href="https://devpower.co.uk/" class="title"> 💪 Dev Power</a>
        
      </li>
      
        
        

        
          <li class="header-item ">
<a href="https://devpower.co.uk/categories"><h3>Categories</h3></a>
            <ul class="header-submenu">
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#aws">aws</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#cryptocurrency">cryptocurrency</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#csharp">csharp</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#devops">devops</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#docker">docker</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#dotnet">dotnet</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#javascript">javascript</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#meta">meta</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#powershell">powershell</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#programming">programming</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#tips_n_tricks">tips_n_tricks</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#tools">tools</a></li>
              
            </ul>
          </li>
        
      
        
        

        
            
                <li class="header-item "><a href="https://devpower.co.uk/tags"><h3>Tags</h3></a></li>
            
        
      
        
        

        
            
                <li class="header-item "><a href="https://devpower.co.uk/"><h3>Home</h3></a></li>
            
        
      
      <!-- <li class="header-item"><a href="https://devpower.co.uk/search"><h3><i class="fa fa-search"></i></h3></a></li> -->
    </ul>
  </div>
<div class="entry-header">
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Welcome to Dev Power</h1>
      <h3>because skills are everything...</h3>
      
        <h2><span class="entry-date"><time> </time></span></h2>
      

      
          <p class="entry-reading-time">
             
          </p>
<!-- /.entry-reading-time -->
      
    </div>
<!-- /.header-title-wrap -->
  </div>
<!-- /.header-title -->
</div><!-- /.entry-header -->


<nav id="menu" style="display: none">
  <ul>
    
      
        <li><a href="https://devpower.co.uk/"><h3>Home</h3></a></li>
      
    
      
        <li><a href="https://devpower.co.uk/tags"><h3>Tags</h3></a></li>
      
    
      
        <li>
<a href="https://devpower.co.uk/categories"><h3>Categories</h3></a>
          <ul>
            
              
                <li><a href="https://devpower.co.uk/categories/#aws">aws</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#cryptocurrency">cryptocurrency</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#csharp">csharp</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#devops">devops</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#docker">docker</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#dotnet">dotnet</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#javascript">javascript</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#meta">meta</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#powershell">powershell</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#programming">programming</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#tips_n_tricks">tips_n_tricks</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#tools">tools</a></li>
            
          </ul>
        </li>
      
    
  </ul>
</nav>


  <a href="https://twitter.com/_dev_power_" class="btn btn-info button-twitter" data-show-count="false" data-size="large" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter"></i> <span> | Follow @_dev_power_</span></a>



<div class="ukraine">
  <span>🇺🇦</span>
  <a href="https://twitter.com/search?q=%23WeStandWithUkraine" target="_blank" rel="noopener noreferrer">We Stand with Ukraine</a>
  <span>🇺🇦</span>
</div>

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/cryptocurrency/solana-epoch-monitor/" title="Solana Epoch Monitor"><img src="https://devpower.co.uk/images/posts/2022/05/solana-epoch-notifications/442.jpg" alt="Solana Epoch Monitor"></a>
        <div class="image-credit">Image source: <a target="_blank" href="https://www.freepik.com/vectors/cloud-technology" rel="noopener noreferrer">www.freepik.com</a>
</div>
<!-- /.image-credit -->

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-25T00:00:00+01:00"><a href="https://devpower.co.uk/cryptocurrency/solana-epoch-monitor/">May 25, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/cryptocurrency/solana-epoch-monitor/" rel="bookmark" title="Solana Epoch Monitor" itemprop="url">Solana Epoch Monitor</a></h1>
    
  </header>
  <div class="entry-content">
      <p>Solana is currently one of the popular blockchains. Every few days a new epoch starts at which point the staking rewards are sent to the stakers. This post’s main focus is not cryptocurrency, rather it’s about a tool that monitors Solana blockchain and sends email notifications when a new epoch starts. So I’m not going to deep into Solana terminology but just to understand the basics, here are a few definitions:</p>

<ul>
  <li>Solana: A Blockchain technology designed to host decentralized and scalable applications.</li>
  <li>Staking: The process of locking up cryptocurrency in order to earn interest</li>
  <li>Epoch: An epoch is the length of a certain amount of blocks. This is a variable duration and typically it’s somewhere between 2-4 days.</li>
</ul>

<p>If you are an Solana investor staking your Solana tokens, then at the end of the epoch you earn some interest. This is where this notification tool comes in. If your wallet doesn’t have a feature of notifying you when you receive staking rewards, you can use this tool to receive email notifications when an epoch ends. This way you can check your wallet and keep an eye on your rewards.</p>

<h2 id="implementation">Implementation</h2>
<p>If you would like to check the current epoch manually, you can always go to <a href="https://explorer.solana.com/" target="_blank" rel="noopener noreferrer">Solana explorer</a> page which shows the current epoch. If you look at the network traffic, it gets this data from Solana API which seems to be public to get this basic info. So I experimented a bit and captured a query and re-sent it via Postman and I got the following result:</p>

<p><img src="/images/posts/2022/05/solana-epoch-notifications/postman-result.png" alt="Postman result"></p>

<p>Based on this I implemented my solution in C# which is very simple and mainly looks like this (full source code is <a href="https://github.com/Dev-Power/solana-epoch-monitor" target="_blank" rel="noopener noreferrer">here</a>):</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="n">GetEpochInfoResponse</span><span class="p">&gt;</span> <span class="nf">GetEpochInfo</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://explorer-api.mainnet-beta.solana.com/"</span><span class="p">);</span>
    <span class="kt">var</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="s">"/"</span><span class="p">,</span> <span class="n">Method</span><span class="p">.</span><span class="n">Post</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">RequestFormat</span> <span class="p">=</span> <span class="n">DataFormat</span><span class="p">.</span><span class="n">Json</span><span class="p">,</span>
    <span class="p">};</span>
    <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
    <span class="n">request</span><span class="p">.</span><span class="nf">AddHeader</span><span class="p">(</span><span class="s">"Accept"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>
    <span class="n">request</span><span class="p">.</span><span class="nf">AddJsonBody</span><span class="p">(</span><span class="k">new</span> <span class="p">{</span> <span class="n">Id</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">(),</span> <span class="n">Method</span> <span class="p">=</span> <span class="s">"getEpochInfo"</span><span class="p">,</span> <span class="n">Jsonrpc</span> <span class="p">=</span> <span class="s">"2.0"</span><span class="p">,</span> <span class="n">Params</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">string</span><span class="p">[]</span> <span class="p">{}</span> <span class="p">});</span> 
    
    <span class="kt">var</span> <span class="n">responseRaw</span> <span class="p">=</span> <span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="nf">ExecuteAsync</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="n">DeserializeObject</span><span class="p">&lt;</span><span class="n">GetEpochInfoResponse</span><span class="p">&gt;(</span><span class="n">responseRaw</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>In the response, we can access the current epoch number. It then checks, the previous epoch that it sent notification for. This is to prevent duplicate notifications. Whenever it sends a notification, it writes the value to a JSON file. It’s important to mount that file with one on the host so that whenever the container restarts it doesn’t send an unnecessary notification.</p>

<h2 id="usage">Usage</h2>

<ol>
  <li>You can either clone the repo and build it yourself or you can pull the image from Docker hub. In either case, you will need a copy of docker-compose-template.yaml and db.json files.</li>
</ol>

<p>Bother methods are shown below:</p>

<p>a. Building From Source : Clone the <a href="https://github.com/Dev-Power/solana-epoch-monitor" target="_blank" rel="noopener noreferrer">repository</a></p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git clone git@github.com:Dev-Power/solana-epoch-monitor.git</code></pre></figure>

<p>b. Using the pre-built Docker image: Pull the image</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker pull devpowercouk/solana-epoch-monitor</code></pre></figure>

<ol start="2">
  <li>Make a copy of docker-compose-template.yaml and rename it to docker-compose.yaml</li>
  <li>Fill in the settings such as SMTP settings, db.json path etc.</li>
  <li>In a terminal, run</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">docker-compose up <span class="nt">-d</span></code></pre></figure>

<p>Since the epoch in the db.json is a past one, it should immediately send a notification and update the db.json with the current epoch.</p>

<h2 id="conclusion">Conclusion</h2>
<p>This is meant to be a quick little project that talks to Solana API and gets the epoch info. It may come in handy if such notifications is something you need. You can also use this as a starter project and implement more notification types.</p>

<p>I hope you found this little project useful and/or fun. Please let me know what you think in the comments below.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://explorer.solana.com/" target="_blank" rel="noopener noreferrer">Solana explorer</a></li>
  <li><a href="https://github.com/Dev-Power/solana-epoch-monitor" target="_blank" rel="noopener noreferrer">Source code of the project</a></li>
  <li><a href="https://hub.docker.com/repository/docker/devpowercouk/solana-epoch-monitor" target="_blank" rel="noopener noreferrer">Docker image in Docker Hub</a></li>
</ul>

      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/dotnet/csharp/develop-a-cli-with-csharp/" title="Develop your own CLI with C#"><img src="https://devpower.co.uk/images/posts/2022/05/dotnet-cli/bash-148836.png" alt="Develop your own CLI with C#"></a>
        

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-24T00:00:00+01:00"><a href="https://devpower.co.uk/dotnet/csharp/develop-a-cli-with-csharp/">May 24, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/dotnet/csharp/develop-a-cli-with-csharp/" rel="bookmark" title="Develop your own CLI with C#" itemprop="url">Develop your own CLI with C#</a></h1>
    
  </header>
  <div class="entry-content">
      <p>Command Line Interfaces (CLI) are invaluable tools for a developer. We use them everyday for interacting with AWS, Docker, GitHub, dotnet etc. We can develop scripts based on CLI commands to carry out complex tasks. In this post, we are going to develop a CLI for ourselves. Let’s get started!</p>

<h2 id="getting-started">Getting Started</h2>
<p>We are going to use two things:</p>

<ul>
  <li>dotnet tool command</li>
  <li>a very handy NuGet package called <a href="https://github.com/Tyrrrz/CliFx" target="_blank" rel="noopener noreferrer">CliFx</a>
</li>
</ul>

<h2 id="dotnet-tool">dotnet tool</h2>
<p>The simplest way to describe a dotnet tool is that it’s a <strong>console application</strong> distributed as a NuGet package.</p>

<p>Normally, when you go to a NuGet source site as <a href="https://nuget.org" target="_blank" rel="noopener noreferrer">Nuget.org</a>, you deal with <strong>class libraries</strong>. You download the class library and consume it in your application.</p>

<p>Similarly, you can publish your console application as a dotnet tool in NuGet pacakge format. This allows to install applications by simply using dotnet CLI such as:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet tool <span class="nb">install</span> <span class="nt">--global</span> <span class="nt">--add-source</span> <span class="o">{</span>PACKAGE PATH<span class="o">}</span> <span class="o">{</span>PACKAGE NAME<span class="o">}</span></code></pre></figure>

<p>To achieve that all we have to do is create a new console application and modify csproj file by adding the following lines:</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;PackAsTool&gt;</span>true<span class="nt">&lt;/PackAsTool&gt;</span>
<span class="nt">&lt;ToolCommandName&gt;</span>{ COMMAND NAME }<span class="nt">&lt;/ToolCommandName&gt;</span>
<span class="nt">&lt;PackageOutputPath&gt;</span>./nupkg<span class="nt">&lt;/PackageOutputPath&gt;</span></code></pre></figure>

<p>Now let’s have a walkthrough and see it in action:</p>

<ol>
  <li>Create a console application using dotnet CLI:</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet new console</code></pre></figure>

<ol start="2">
  <li>Edit the csproj file. In this example, I’m going to use JetBrains Rider IDE to edit but you can use any IDE/text editor you want:</li>
</ol>

<p><img src="/images/posts/2022/05/dotnet-cli/edit-csproj.png" alt="Edit csproj"></p>

<ol start="3">
  <li>Add the following lines inside PropertyGroup element so that it looks something like this:</li>
</ol>

<p><img src="/images/posts/2022/05/dotnet-cli/add-xml-elements.png" alt="Add XML elements"></p>

<ol start="4">
  <li>Run the following command to create the nuget package</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet pack</code></pre></figure>

<p><img src="/images/posts/2022/05/dotnet-cli/dotnet-pack-output.png" alt="Add XML elements"></p>

<ol start="5">
  <li>Install it globally on your computer by running the following command</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet tool <span class="nb">install</span> <span class="nt">--global</span> <span class="nt">--add-source</span> ./nupkg develop-a-cli-with-csharp</code></pre></figure>

<p class="panel-note">Please note the last argument is the name of the root namespace, not the name of the CLI we are creating</p>

<ol start="6">
  <li>Now we you can test the tool simply by running the name of the tool in the terminal:</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mycli</code></pre></figure>

<p>and the output should look like this:</p>

<p><img src="/images/posts/2022/05/dotnet-cli/tool-output.png" alt="Terminal output"></p>

<p>Great! We have our tool installed nicely on the computer. We can run it anywhere in the terminal (regardless of the path we are in). But there is more to a CLI then simply executing a console application. The most important of a CLI is to have commands and subcommands. For example, when we use the dotnet CLI we entered the following command:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet tool <span class="nb">install</span> <span class="nt">--global</span> <span class="nt">--add-source</span> ./nupkg develop-a-cli-with-csharp</code></pre></figure>

<p>In this example,</p>

<ul>
  <li>dotnet is the name of the CLI</li>
  <li>tool is the command</li>
  <li>install is the subcommand</li>
  <li>The rest are arguments passed to the subcommand</li>
</ul>

<p>Currently, we don’t have any mechanism to understand commands, subcommands and arguments. This is where CliFx comes in.</p>

<h2 id="clifx">CliFx</h2>
<p>CliFx is a simple to use NuGet package that adds the full capabilities of a CLI to our console application.</p>

<ol>
  <li>Let’s start with installing the package:</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet add package CliFx</code></pre></figure>

<p>You should be able too see the package after running the command above:</p>

<p><img src="/images/posts/2022/05/dotnet-cli/package-install-output.png" alt="Package installation output"></p>

<ol start="2">
  <li>Replace the Main method with the following code:</li>
</ol>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">CliFx</span><span class="p">;</span>

<span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">async</span> <span class="n">Task</span><span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span> <span class="nf">Main</span><span class="p">()</span> <span class="p">=&gt;</span>
        <span class="k">await</span> <span class="k">new</span> <span class="nf">CliApplicationBuilder</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">AddCommandsFromThisAssembly</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">SetExecutableName</span><span class="p">(</span><span class="s">"mycli"</span><span class="p">)</span>
            <span class="p">.</span><span class="nf">SetTitle</span><span class="p">(</span><span class="s">"My CLI"</span><span class="p">)</span>
            <span class="p">.</span><span class="nf">SetDescription</span><span class="p">(</span><span class="s">"A useful CLI tool to demo"</span><span class="p">)</span>
            <span class="p">.</span><span class="nf">Build</span><span class="p">()</span>
            <span class="p">.</span><span class="nf">RunAsync</span><span class="p">();</span>
<span class="p">}</span></code></pre></figure>

<ol start="3">
  <li>Now, let’s create our commands by creating two new classes named HelloCommand and WorldCommand. They should look like below:</li>
</ol>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="p">[</span><span class="nf">Command</span><span class="p">(</span><span class="s">"hello"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">HelloCommand</span> <span class="p">:</span> <span class="n">ICommand</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">ValueTask</span> <span class="nf">ExecuteAsync</span><span class="p">(</span><span class="n">IConsole</span> <span class="n">console</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">console</span><span class="p">.</span><span class="n">Output</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Hello"</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">default</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="p">[</span><span class="nf">Command</span><span class="p">(</span><span class="s">"hello world"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">class</span> <span class="nc">WorldCommand</span> <span class="p">:</span> <span class="n">ICommand</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="n">ValueTask</span> <span class="nf">ExecuteAsync</span><span class="p">(</span><span class="n">IConsole</span> <span class="n">console</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">console</span><span class="p">.</span><span class="n">Output</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Hello, World!"</span><span class="p">);</span>
        <span class="k">return</span> <span class="k">default</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<ol start="4">
  <li>Now run the application in the terminal without any parameters, you should get a nice help output:</li>
</ol>

<p><img src="/images/posts/2022/05/dotnet-cli/clifx-help-output.png" alt="CliFx help output"></p>

<ol start="5">
  <li>Test the command and subcommand by running the following commands:</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet run <span class="nt">--</span> hello
dotnet run <span class="nt">--</span> hello world</code></pre></figure>

<p>The output should look like this:</p>

<p><img src="/images/posts/2022/05/dotnet-cli/clifx-command-output.png" alt="CliFx command output"></p>

<p>Notice that by running “hello” command we are executing ExecuteAsync method in HelloCommand class. WorldCommand is a subcommand of hello command so we can execute a different method by running “hello world”.</p>

<p>At this point, our installed tool is not affected by these changes. So we have to pack and update our tool now by running the following commands:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet pack
dotnet tool update <span class="nt">--global</span> <span class="nt">--add-source</span> ./nupkg develop-a-cli-with-csharp</code></pre></figure>

<p>You can confirm the tool is updated by looking for an output like this:</p>

<p><img src="/images/posts/2022/05/dotnet-cli/dotnet-tool-update-output.png" alt="dotnet tool update output"></p>

<ol start="6">
  <li>Finally, open another terminal window type the CLI name</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">mycli</code></pre></figure>

<p>and you should see the new help output listing the available commands in the CLI:</p>

<p><img src="/images/posts/2022/05/dotnet-cli/clifx-final-output.png" alt="CliFx final output"></p>

<h2 id="conclusion">Conclusion</h2>
<p>CLIs are very useful tools for developers. In this post, we looked into creating a CLI that’s capable of creating commands, subcommands. It can be also be installed as a dotnet tool and can be distributed as a NuGet package.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://docs.microsoft.com/en-us/dotnet/core/tools/dotnet-tool-install" target="_blank" rel="noopener noreferrer">dotnet tool documentation</a></li>
  <li><a href="https://github.com/Tyrrrz/CliFx" target="_blank" rel="noopener noreferrer">CliFx GitHub repo</a></li>
  <li><a href="https://github.com/Dev-Power/blog-code-samples/tree/main/develop-a-cli-with-csharp" target="_blank" rel="noopener noreferrer">Sample code</a></li>
</ul>


      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/devops/exploring-github-actions/" title="Exploring GitHub Actions"><img src="https://devpower.co.uk/images/posts/2022/05/github-actions/13094.jpg" alt="Exploring GitHub Actions"></a>
        <div class="image-credit">Image source: <a target="_blank" href="https://www.freepik.com/vectors/repair-man" rel="noopener noreferrer">www.freepik.com</a>
</div>
<!-- /.image-credit -->

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-23T00:00:00+01:00"><a href="https://devpower.co.uk/devops/exploring-github-actions/">May 23, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/devops/exploring-github-actions/" rel="bookmark" title="Exploring GitHub Actions" itemprop="url">Exploring GitHub Actions</a></h1>
    
  </header>
  <div class="entry-content">
      <p>In a nutsehll, GitHub Actions is GitHub’s automated wokflow solution. It allows developers to run custom build and deployment actions straight in GitHub. This makes sense if you already have your code in GitHub. Even free accounts have 500MB straoge and 2,000 worker minutes allowance. So all you need is a free account to follow along.</p>

<h2 id="basics">Basics</h2>
<p>GitHub Actions is quite a flexible event driven mechanism. In addition to be able to run jobs on events, you can run on schedule as well.</p>

<p>The units executed by GitHub Actions are called <strong>workflows</strong>. To create a workflow, you can create a file under <strong>.github/workflows</strong> directory inside your GitHub repository.</p>

<p class="panel-note">By default, .github directory is likely to be excluded in the left pane. You can update VS Code settings to remove it from the exclusions list by following this guide: <a href="https://knowitall.pro/posts/how-to-show-hidden-directories-in-visual-studio-code" target="_blank" rel="noopener noreferrer">How to show hidden directories in Visual Studio Code</a>
</p>

<p>You can view the process mainly as an IFTTT (if this then that) workflow. If some event happens then some list of actions (jobs) are executed. For example, let’s take a look at this very basic workflow:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">name</span><span class="pi">:</span> <span class="s">Demo</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">main</span> <span class="pi">]</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run a one-line script</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">echo Hello, GitHub Actions!</span></code></pre></figure>

<p>So the process we are defining is</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>When some code is pushed 
To the main branch
Create a new virtual machine based on ubuntu-latest template (Currently it's Ubuntu 20.04)
Execute the following command: echo Hello, GitHub Actions!
</code></pre></div></div>

<p>And to test the workflow, you can simply create and push a new file:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">touch </span>demo-trigger
git add demo-trigger
git commit <span class="nt">-m</span> <span class="s2">"testing demo workflow"</span>
git push</code></pre></figure>

<p>At this point if you go to your repository’s Actions tab, you should see something like:</p>

<p><img src="/images/posts/2022/05/github-actions/testing-demo-workflow.png" alt=""></p>

<p>And after waiting a few seconds, you should see the job complete. Click on the name and expand the details to see the logs:</p>

<p><img src="/images/posts/2022/05/github-actions/demo-workflow-output.png" alt=""></p>

<p>You can see it prints the statement we put in the workflow YAML file.</p>

<h2 id="lets-do-something-useful-with-it">Let’s Do Something Useful With It!</h2>
<p>Printing something is useful but most of the time you would to run some build process and deploy the artifacts to somewhere. Let’s move one step further and try something meaningful.</p>

<p>In this walkthrough, we are going to create a CI/CD pipeline that builds a React application and deploys it to another branch called _site where it’s served as a static website using GitHub Pages.</p>

<p>Without further ado, let’s start the walkthrough:</p>

<ol>
  <li>Create a new branch called _site:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/site-branch.png" alt=""></p>

<ol start="2">
  <li>Go to repo Settings -&gt; Pages. Select _site as the Source branch and click Save</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/set-gh-pages-branch.png" alt=""></p>

<ol start="3">
  <li>Confirm that your site is ready to be served on gitHub Pages. You should see a notification that looks like this:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-confirmation.png" alt=""></p>

<p>and if you visit the link, it should look like this:</p>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-version-1.png" alt=""></p>

<ol start="4">
  <li>
    <p>Clone the repo and checkout main branch</p>
  </li>
  <li>
    <p>Change to the repo path in terminal and create a new React app</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npx create-react-app .</code></pre></figure>

<ol start="6">
  <li>After the installation has completed, you can test your application by running</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npm start</code></pre></figure>

<p>The output should look something like this:</p>

<p><img src="/images/posts/2022/05/github-actions/npm-start-output.png" alt=""></p>

<p>We are going to use the app as-is with one exception. Open package.json and add the following file:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="w">  </span><span class="nl">"homepage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/github-actions-workout/"</span><span class="err">,</span></code></pre></figure>

<p>so that it looks like this:</p>

<p><img src="/images/posts/2022/05/github-actions/package-json-update.png" alt=""></p>

<p>This is necessary for the paths in the built application. Because our application is not in the root level of the subdomain we have to tell React the relative path to adjust the URLs.</p>

<ol start="7">
  <li>
    <p>Now, create a new file called <strong>publish-site.yml</strong> under <strong>./github/workflows</strong> directory.</p>
  </li>
  <li>
    <p>Enter the code below as the contents of publish-site.yml file:</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">name</span><span class="pi">:</span> <span class="s">Generate a build and push to another branch</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Build and push to _site</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">git-checkout</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install all dependencies</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm install</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm run build</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Push</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">s0/git-publish-subdir-action@develop</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">REPO</span><span class="pi">:</span> <span class="s">self</span>
          <span class="na">BRANCH</span><span class="pi">:</span> <span class="s">_site</span>
          <span class="na">FOLDER</span><span class="pi">:</span> <span class="s">build</span>
          <span class="na">GITHUB_TOKEN</span><span class="pi">:</span>  <span class="s">${{ secrets.GITHUB_TOKEN }}</span> </code></pre></figure>

<ol start="9">
  <li>Commit and push your changes in the main branch</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git add <span class="nb">.</span>
git add ./.github/workflows/publish-site.yml
git commit <span class="nt">-m</span> <span class="s2">"testing react CI/CD"</span>
git push</code></pre></figure>

<ol start="10">
  <li>Go to Actions tab and you should see the workflow we just pushed:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/react-ci-cd-workflow.png" alt=""></p>

<ol start="11">
  <li>And after some brief queuing and waiting, you should get the output:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/publish-site-workflow-output.png" alt=""></p>

<ol start="12">
  <li>Also notice that GitHub’s own Pages feature is also another action. You can see it in action in the same actions list. Just check “pages build and deployment” jobs after you push code</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-action.png" alt=""></p>

<ol start="13">
  <li>After succesful GitHub Pages build, if you visit your page again you should see a new React app runnning</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-version-2.png" alt=""></p>

<h2 id="conclusion">Conclusion</h2>
<p>In this post, we covered the basics of GitHub Actions and created a CI/CD pipeline for a React application only by using GitHub. I hope this post has been helpful to you. If you want move coverage on GitHub actions, please leave a comment below.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">GitHub Actions</a></li>
  <li><a href="https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners" target="_blank" rel="noopener noreferrer">GitHub Hosted Runners</a></li>
  <li><a href="https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions" target="_blank" rel="noopener noreferrer">GitHub Action Billing</a></li>
</ul>

      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/javascript/hidden-gems-in-javascript-console-api/" title="Hidden gems in JavaScript Console API"><img src="https://devpower.co.uk/images/posts/2022/05/javascript-console/3094293.jpg" alt="Hidden gems in JavaScript Console API"></a>
        <div class="image-credit">Image source: <a target="_blank" href="https://www.freepik.com/vectors/js" rel="noopener noreferrer">www.freepik.com</a>
</div>
<!-- /.image-credit -->

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-22T00:00:00+01:00"><a href="https://devpower.co.uk/javascript/hidden-gems-in-javascript-console-api/">May 22, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/javascript/hidden-gems-in-javascript-console-api/" rel="bookmark" title="Hidden gems in JavaScript Console API" itemprop="url">Hidden gems in JavaScript Console API</a></h1>
    
  </header>
  <div class="entry-content">
      <p>Any developer who wrote any JavaScript code must have used console.log() method at some point to log informational messages or for <a href="https://en.wikipedia.org/wiki/Debugging#Print_debugging" target="_blank" rel="noopener noreferrer">print debugging</a>. However, while that method is quite useful, it is not the only one in our arsenal. So let’s look at some useful methods that are not very commonly known to most developers.</p>

<h2 id="consoletime--consoletimelog--consoletimeend">console.time() / console.timeLog() / console.timeEnd()</h2>
<p>If you have some long-running tasks and want to get some insights into how long a task takes, these methods are handy. You can start a timer by calling</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">();</span></code></pre></figure>

<p>and end the timer by calling</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">();</span></code></pre></figure>

<p>You can also pass a label to these methods to make the logs more readable. Otherwise, the times are logged under <em>“default”</em> label.</p>

<p>timeLog() method can be used anywhere between time and timeEnd to log the timer’s current value.</p>

<p>The example below uses all the features discussed above:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">();</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10000000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">5000000</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">timeLog</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">();</span></code></pre></figure>

<p>It loops 10 million times and logs the time halfway through (console.timeLog()) and at the end (console.timeEnd())</p>

<p>and the output looks like this:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-time-output.png" alt=""></p>

<h2 id="consoletable">console.table()</h2>
<p>This is a neat little feature that can useful when displaying tabular data. In this example, we are going to get the first 10 results from people endpoint on <a href="https://swapi.py4e.com/" target="_blank" rel="noopener noreferrer">Star Wars API</a> and display them in a table:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">fetch</span> <span class="p">(</span><span class="dl">"</span><span class="s2">https://swapi.py4e.com/api/people/</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span> 
      <span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">response</span><span class="p">).</span><span class="nx">results</span><span class="p">);</span>
    <span class="p">});</span></code></pre></figure>

<p>Let’s check out the results:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-table-output.png" alt=""></p>

<p>And all it takes is 5 lines of code to produce this!</p>

<h2 id="consolewarn--consoleerror">console.warn() / console.error()</h2>
<p>console.log() is fine for logging informational statements, but to make the warning and errors more readable, you can use warn() and error() methods. When checking the console, they surely stand out among all the other log lines.</p>

<p>For example, the following code</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">"</span><span class="s2">warning: half-way through</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">error: all gone now</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>produces this output:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-warn-error-output.png" alt=""></p>

<h2 id="consoledebug">console.debug()</h2>
<p>I chose to cover debug in a separate section even though it works very similarly to log(), warn() and error() methods. By default, the log level in browsers is not set to display debug messages.</p>

<p><img src="/images/posts/2022/05/javascript-console/browser-log-level-settings.png" alt=""></p>

<p>So if we run the previous example with <em>log()</em> call replaced by <em>debug()</em> call, the output looks very simplified:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">"</span><span class="s2">warning: half-way through</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">error: all gone now</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>Output with debug:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-debug-output-hidden.png" alt=""></p>

<p>If we want to see all the statements, we need to explicitly set the logging level to verbose and get the same results as before.</p>

<p><img src="/images/posts/2022/05/javascript-console/log-level-set-to-verbose.png" alt=""></p>

<h2 id="consolegroup--groupend--groupcollapsed">console.group() / groupEnd() / groupCollapsed()</h2>
<p>group() and groupEnd() let us create indented log entries within a group label.</p>

<p>For example, the following code</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 3</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 3</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 2</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>produces this result:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-group-output.png" alt=""></p>

<p>We can also create log entries in a collapsed state so that they can only be viewed when we explicitly expand the log group:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 3</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupCollapsed</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hidden stuff until you expand</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hidden entry 1</span><span class="dl">"</span><span class="p">);</span>  
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hidden entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>By default, the output looks like this:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-group-collapsed.png" alt=""></p>

<p>To see the contents of the collapsed group, we need to expand it explicitly:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-group-expanded.png" alt=""></p>

<h2 id="conclusion">Conclusion</h2>
<p>This post looked into useful Console API methods that are not commonly known. We didn’t look into non-standard methods such as timeStamp() and profile() to ensure compatibility. I’d recommend visiting the resources below and looking into all the methods. Some of them are not covered here but might be quite useful to you.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://www.w3schools.com/jsref/obj_console.asp" target="_blank" rel="noopener noreferrer">W3Schools: Window Console Object</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console_API" target="_blank" rel="noopener noreferrer">MDN Web Docs: Console API</a></li>
  <li><a href="https://swapi.py4e.com/" target="_blank" rel="noopener noreferrer">Star Wars API</a></li>
</ul>

      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/tools/how-to-download-media-from-RSS-feed-with-csharp-6/" title="How to download audio/video from an RSS feed with C# 6.0"><img src="https://devpower.co.uk/images/posts/2022/05/rss-download/64615.jpg" alt="How to download audio/video from an RSS feed with C# 6.0"></a>
        <div class="image-credit">Image source: <a target="_blank" href="https://www.freepik.com/vectors/upload-icon" rel="noopener noreferrer">www.freepik.com</a>
</div>
<!-- /.image-credit -->

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-21T00:00:00+01:00"><a href="https://devpower.co.uk/tools/how-to-download-media-from-RSS-feed-with-csharp-6/">May 21, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/tools/how-to-download-media-from-RSS-feed-with-csharp-6/" rel="bookmark" title="How to download audio/video from an RSS feed with C# 6.0" itemprop="url">How to download audio/video from an RSS feed with C# 6.0</a></h1>
    
  </header>
  <div class="entry-content">
      <p>When you listen to a podcast, your podcast player basically downloads the <a href="https://en.wikipedia.org/wiki/RSS" target="_blank" rel="noopener noreferrer">RSS</a> feed of the publisher. Checks the local downloaded files and downloads the new ones as they come along. In this small project, I’m going to develop a small C# application that downloads the entire media from an RSS feed.</p>

<p>All the information in the RSS feed is public and clients are meant to download these media files.</p>

<p>Here’s how the program works in a nutshell:</p>

<ul>
  <li>It accepts 2 arguments: the URL of the RSS feed and the target directory to save the files into</li>
  <li>It then downloads the RSS feed into a temporary XML file</li>
  <li>It parses the XML and gets the following values: Title, publication date and the URL to download</li>
  <li>It loops through all the entries in the feed and saves the files to the local file system (It skips existing files so you can run it multiple times and it won’t re-download unnecessarily)</li>
  <li>After it’s done, it deletes the temp XML file</li>
</ul>

<p>That’s all! Not a fancy podcatcher by no means, but it’s fun little project that can be used to archive your favourite podcasts.</p>

<p>The entire source code for the C# 6.0 Console Application is below. Enjoy!</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">System.Xml</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">feedUrl</span> <span class="p">=</span> <span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
<span class="kt">string</span> <span class="n">feedLocalFileNnme</span> <span class="p">=</span> <span class="s">"temp-feed.xml"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">targetLocalDirectory</span> <span class="p">=</span> <span class="n">args</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">TrimEnd</span><span class="p">(</span><span class="sc">'/'</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WebClient</span><span class="p">())</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Downloading </span><span class="p">{</span><span class="n">feedUrl</span><span class="p">}</span><span class="s"> to </span><span class="p">{</span><span class="n">feedLocalFileNnme</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">client</span><span class="p">.</span><span class="nf">DownloadFile</span><span class="p">(</span><span class="n">feedUrl</span><span class="p">,</span> <span class="n">feedLocalFileNnme</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">string</span> <span class="n">rawXml</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">ReadAllText</span><span class="p">(</span><span class="n">feedLocalFileNnme</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">xmlDocument</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlDocument</span><span class="p">();</span>
<span class="n">xmlDocument</span><span class="p">.</span><span class="nf">LoadXml</span><span class="p">(</span><span class="n">rawXml</span><span class="p">);</span>

<span class="n">XmlNodeList</span> <span class="n">itemNodeList</span> <span class="p">=</span> <span class="n">xmlDocument</span><span class="p">.</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"/rss/channel/item"</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">itemNodeList</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
<span class="p">{</span>
    <span class="n">XmlNode</span> <span class="n">titleNode</span> <span class="p">=</span> <span class="n">itemNodeList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"title"</span><span class="p">)[</span><span class="m">0</span><span class="p">];</span>
    <span class="n">XmlNode</span> <span class="n">enclosureNode</span> <span class="p">=</span> <span class="n">itemNodeList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"enclosure"</span><span class="p">)[</span><span class="m">0</span><span class="p">];</span>
    <span class="n">XmlNode</span> <span class="n">pubDateNode</span> <span class="p">=</span> <span class="n">itemNodeList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"pubDate"</span><span class="p">)[</span><span class="m">0</span><span class="p">];</span>
    <span class="kt">string</span> <span class="n">urlToDownload</span> <span class="p">=</span> <span class="n">enclosureNode</span><span class="p">.</span><span class="n">Attributes</span><span class="p">[</span><span class="s">"url"</span><span class="p">].</span><span class="n">Value</span><span class="p">;</span>
    <span class="n">DateTime</span> <span class="n">pubDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">pubDateNode</span><span class="p">.</span><span class="n">InnerText</span><span class="p">);</span>
    <span class="kt">string</span> <span class="n">localFileName</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">targetLocalDirectory</span><span class="p">}</span><span class="s">/</span><span class="p">{</span><span class="nf">GetDate</span><span class="p">(</span><span class="n">pubDate</span><span class="p">)}</span><span class="s">-</span><span class="p">{</span><span class="n">titleNode</span><span class="p">.</span><span class="n">InnerText</span><span class="p">}</span><span class="s">.mp3"</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">File</span><span class="p">.</span><span class="nf">Exists</span><span class="p">(</span><span class="n">localFileName</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WebClient</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Downloading </span><span class="p">{</span><span class="n">urlToDownload</span><span class="p">}</span><span class="s"> to </span><span class="p">{</span><span class="n">localFileName</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
            <span class="n">client</span><span class="p">.</span><span class="nf">DownloadFile</span><span class="p">(</span><span class="n">urlToDownload</span><span class="p">,</span> <span class="n">localFileName</span><span class="p">);</span>
            <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">2000</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Skipping. File at </span><span class="p">{</span><span class="n">localFileName</span><span class="p">}</span><span class="s"> already exists."</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">string</span> <span class="nf">GetDate</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">pubDate</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">$"</span><span class="p">{</span><span class="n">pubDate</span><span class="p">.</span><span class="n">Year</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">pubDate</span><span class="p">.</span><span class="n">Month</span><span class="p">.</span><span class="nf">ToString</span><span class="p">().</span><span class="nf">PadLeft</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="sc">'0'</span><span class="p">)}</span><span class="s">-</span><span class="p">{</span><span class="n">pubDate</span><span class="p">.</span><span class="n">Day</span><span class="p">.</span><span class="nf">ToString</span><span class="p">().</span><span class="nf">PadLeft</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="sc">'0'</span><span class="p">)}</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">File</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="n">feedLocalFileNnme</span><span class="p">);</span></code></pre></figure>

<h3 id="usage">Usage</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet run <span class="nt">--</span> <span class="o">{</span>RSS URL<span class="o">}</span> <span class="o">{</span>Target Local Directory<span class="o">}</span></code></pre></figure>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://www.w3schools.com/xml/xml_rss.asp" target="_blank" rel="noopener noreferrer">XML RSS</a></li>
</ul>


      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    

    
    
      <li><strong class="current-page">1</strong></li>
    

    
    

    
    
    

    
      
        
        
        
        <li><a href="https://devpower.co.uk/page2/">2</a></li>
      
    
      
        
        
        
        <li><a href="https://devpower.co.uk/page3/">3</a></li>
      
    

    
    

    
      <li><a href="https://devpower.co.uk/page4/">4</a></li>
    

    
    
      <li><a href="https://devpower.co.uk/page2/" class="btn">Next</a></li>
    
  </ul>
</div>


</div><!-- /#main -->

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="https://devpower.co.uk/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script type="text/javascript" src="https://devpower.co.uk/assets/js/scripts.min.js"></script>
<script type="text/javascript" async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>



<!-- Asynchronous Google Analytics snippet -->
<!--script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-V0VB7KHEQV', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V0VB7KHEQV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V0VB7KHEQV');
</script>








<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>© 2022 DevPower.co.uk </span>

  </footer>
</div><!-- /.footer-wrapper -->

</body>
</html>
