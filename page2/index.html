<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Welcome to Dev Power &#8211; üí™ Dev Power</title>
<meta name="description" content="The place for the most comprehensive tech articles">
<meta name="keywords" content="dev, software, programming, code, tech">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@_dev_power_">
<meta name="twitter:creator" content="@_dev_power_">

<!-- Open Graph -->
<meta property="og:locale" content="en_GB">
<meta property="og:type" content="article">
<meta property="og:title" content="Welcome to Dev Power">
<meta property="og:description" content="The place for the most comprehensive tech articles">
<meta property="og:url" content="https://devpower.co.uk/page2/">
<meta property="og:site_name" content="üí™ Dev Power">
<meta property="og:image" content="https://devpower.co.uk/images/">





<link rel="canonical" href="https://devpower.co.uk/page2/">
<link href="https://devpower.co.uk/feed.xml" type="application/atom+xml" rel="alternate" title="üí™ Dev Power Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>

<!-- For all browsers -->
<link rel="stylesheet" href="https://devpower.co.uk/assets/css/main.css">
<link rel="stylesheet" href="https://devpower.co.uk/assets/css/jquery.mmenu.all.css">
<link rel="stylesheet" href="https://devpower.co.uk/assets/css/jquery.floating-social-share.min.css">
<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script type="text/javascript" src="https://devpower.co.uk/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="https://devpower.co.uk/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="https://devpower.co.uk/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="https://devpower.co.uk/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://devpower.co.uk/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://devpower.co.uk/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://devpower.co.uk/images/apple-touch-icon-144x144-precomposed.png">




<!-- 



 -->
</head>

<body id="post-index">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->




<div class="header-menu header-menu-top">
  <ul class="header-item-container">
      <li class="header-item-title header-toggle "><a href="#menu"><h2><i class="fa fa-bars"></i></h2></a></li>
      <li class="header-item-title">
        <a href="https://devpower.co.uk/">
          
          </a><a href="https://devpower.co.uk/" class="title"> üí™ Dev Power</a>
        
      </li>
      
        
        

        
          <li class="header-item ">
<a href="https://devpower.co.uk/categories"><h3>Categories</h3></a>
            <ul class="header-submenu">
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#aws">aws</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#cryptocurrency">cryptocurrency</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#csharp">csharp</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#devops">devops</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#docker">docker</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#dotnet">dotnet</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#javascript">javascript</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#meta">meta</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#powershell">powershell</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#programming">programming</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#tips_n_tricks">tips_n_tricks</a></li>
              
                
                  <li class="sub-item"><a href="https://devpower.co.uk/categories/#tools">tools</a></li>
              
            </ul>
          </li>
        
      
        
        

        
            
                <li class="header-item "><a href="https://devpower.co.uk/tags"><h3>Tags</h3></a></li>
            
        
      
        
        

        
            
                <li class="header-item "><a href="https://devpower.co.uk/"><h3>Home</h3></a></li>
            
        
      
      <!-- <li class="header-item"><a href="https://devpower.co.uk/search"><h3><i class="fa fa-search"></i></h3></a></li> -->
    </ul>
  </div>
<div class="entry-header">
  <div class="header-title">
    <div class="header-title-wrap">
      <h1>Welcome to Dev Power</h1>
      <h3>because skills are everything...</h3>
      
        <h2><span class="entry-date"><time>¬†</time></span></h2>
      

      
          <p class="entry-reading-time">
            ¬†
          </p>
<!-- /.entry-reading-time -->
      
    </div>
<!-- /.header-title-wrap -->
  </div>
<!-- /.header-title -->
</div><!-- /.entry-header -->


<nav id="menu" style="display: none">
  <ul>
    
      
        <li><a href="https://devpower.co.uk/"><h3>Home</h3></a></li>
      
    
      
        <li><a href="https://devpower.co.uk/tags"><h3>Tags</h3></a></li>
      
    
      
        <li>
<a href="https://devpower.co.uk/categories"><h3>Categories</h3></a>
          <ul>
            
              
                <li><a href="https://devpower.co.uk/categories/#aws">aws</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#cryptocurrency">cryptocurrency</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#csharp">csharp</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#devops">devops</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#docker">docker</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#dotnet">dotnet</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#javascript">javascript</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#meta">meta</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#powershell">powershell</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#programming">programming</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#tips_n_tricks">tips_n_tricks</a></li>
            
              
                <li><a href="https://devpower.co.uk/categories/#tools">tools</a></li>
            
          </ul>
        </li>
      
    
  </ul>
</nav>


  <a href="https://twitter.com/_dev_power_" class="btn btn-info button-twitter" data-show-count="false" data-size="large" target="_blank" rel="noopener noreferrer"><i class="fa fa-twitter"></i> <span> | Follow @_dev_power_</span></a>



<div class="ukraine">
  <span>üá∫üá¶</span>
  <a href="https://twitter.com/search?q=%23WeStandWithUkraine" target="_blank" rel="noopener noreferrer">We Stand with Ukraine</a>
  <span>üá∫üá¶</span>
</div>

<div id="main" role="main">
  
<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/devops/exploring-github-actions/" title="Exploring GitHub Actions"><img src="https://devpower.co.uk/images/posts/2022/05/github-actions/13094.jpg" alt="Exploring GitHub Actions"></a>
        <div class="image-credit">Image source: <a target="_blank" href="https://www.freepik.com/vectors/repair-man" rel="noopener noreferrer">www.freepik.com</a>
</div>
<!-- /.image-credit -->

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-23T00:00:00+01:00"><a href="https://devpower.co.uk/devops/exploring-github-actions/">May 23, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/devops/exploring-github-actions/" rel="bookmark" title="Exploring GitHub Actions" itemprop="url">Exploring GitHub Actions</a></h1>
    
  </header>
  <div class="entry-content">
      <p>In a nutsehll, GitHub Actions is GitHub‚Äôs automated wokflow solution. It allows developers to run custom build and deployment actions straight in GitHub. This makes sense if you already have your code in GitHub. Even free accounts have 500MB straoge and 2,000 worker minutes allowance. So all you need is a free account to follow along.</p>

<h2 id="basics">Basics</h2>
<p>GitHub Actions is quite a flexible event driven mechanism. In addition to be able to run jobs on events, you can run on schedule as well.</p>

<p>The units executed by GitHub Actions are called <strong>workflows</strong>. To create a workflow, you can create a file under <strong>.github/workflows</strong> directory inside your GitHub repository.</p>

<p class="panel-note">By default, .github directory is likely to be excluded in the left pane. You can update VS Code settings to remove it from the exclusions list by following this guide: <a href="https://knowitall.pro/posts/how-to-show-hidden-directories-in-visual-studio-code" target="_blank" rel="noopener noreferrer">How to show hidden directories in Visual Studio Code</a>
</p>

<p>You can view the process mainly as an IFTTT (if this then that) workflow. If some event happens then some list of actions (jobs) are executed. For example, let‚Äôs take a look at this very basic workflow:</p>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">name</span><span class="pi">:</span> <span class="s">Demo</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span> <span class="nv">main</span> <span class="pi">]</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run a one-line script</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">echo Hello, GitHub Actions!</span></code></pre></figure>

<p>So the process we are defining is</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>When some code is pushed 
To the main branch
Create a new virtual machine based on ubuntu-latest template (Currently it's Ubuntu 20.04)
Execute the following command: echo Hello, GitHub Actions!
</code></pre></div></div>

<p>And to test the workflow, you can simply create and push a new file:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nb">touch </span>demo-trigger
git add demo-trigger
git commit <span class="nt">-m</span> <span class="s2">"testing demo workflow"</span>
git push</code></pre></figure>

<p>At this point if you go to your repository‚Äôs Actions tab, you should see something like:</p>

<p><img src="/images/posts/2022/05/github-actions/testing-demo-workflow.png" alt=""></p>

<p>And after waiting a few seconds, you should see the job complete. Click on the name and expand the details to see the logs:</p>

<p><img src="/images/posts/2022/05/github-actions/demo-workflow-output.png" alt=""></p>

<p>You can see it prints the statement we put in the workflow YAML file.</p>

<h2 id="lets-do-something-useful-with-it">Let‚Äôs Do Something Useful With It!</h2>
<p>Printing something is useful but most of the time you would to run some build process and deploy the artifacts to somewhere. Let‚Äôs move one step further and try something meaningful.</p>

<p>In this walkthrough, we are going to create a CI/CD pipeline that builds a React application and deploys it to another branch called _site where it‚Äôs served as a static website using GitHub Pages.</p>

<p>Without further ado, let‚Äôs start the walkthrough:</p>

<ol>
  <li>Create a new branch called _site:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/site-branch.png" alt=""></p>

<ol start="2">
  <li>Go to repo Settings -&gt; Pages. Select _site as the Source branch and click Save</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/set-gh-pages-branch.png" alt=""></p>

<ol start="3">
  <li>Confirm that your site is ready to be served on gitHub Pages. You should see a notification that looks like this:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-confirmation.png" alt=""></p>

<p>and if you visit the link, it should look like this:</p>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-version-1.png" alt=""></p>

<ol start="4">
  <li>
    <p>Clone the repo and checkout main branch</p>
  </li>
  <li>
    <p>Change to the repo path in terminal and create a new React app</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npx create-react-app .</code></pre></figure>

<ol start="6">
  <li>After the installation has completed, you can test your application by running</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">npm start</code></pre></figure>

<p>The output should look something like this:</p>

<p><img src="/images/posts/2022/05/github-actions/npm-start-output.png" alt=""></p>

<p>We are going to use the app as-is with one exception. Open package.json and add the following file:</p>

<figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="w">  </span><span class="nl">"homepage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/github-actions-workout/"</span><span class="err">,</span></code></pre></figure>

<p>so that it looks like this:</p>

<p><img src="/images/posts/2022/05/github-actions/package-json-update.png" alt=""></p>

<p>This is necessary for the paths in the built application. Because our application is not in the root level of the subdomain we have to tell React the relative path to adjust the URLs.</p>

<ol start="7">
  <li>
    <p>Now, create a new file called <strong>publish-site.yml</strong> under <strong>./github/workflows</strong> directory.</p>
  </li>
  <li>
    <p>Enter the code below as the contents of publish-site.yml file:</p>
  </li>
</ol>

<figure class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="na">name</span><span class="pi">:</span> <span class="s">Generate a build and push to another branch</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">main</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Build and push to _site</span>
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">git-checkout</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v2</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install all dependencies</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm install</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm run build</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Push</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">s0/git-publish-subdir-action@develop</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">REPO</span><span class="pi">:</span> <span class="s">self</span>
          <span class="na">BRANCH</span><span class="pi">:</span> <span class="s">_site</span>
          <span class="na">FOLDER</span><span class="pi">:</span> <span class="s">build</span>
          <span class="na">GITHUB_TOKEN</span><span class="pi">:</span>  <span class="s">${{ secrets.GITHUB_TOKEN }}</span> </code></pre></figure>

<ol start="9">
  <li>Commit and push your changes in the main branch</li>
</ol>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">git add <span class="nb">.</span>
git add ./.github/workflows/publish-site.yml
git commit <span class="nt">-m</span> <span class="s2">"testing react CI/CD"</span>
git push</code></pre></figure>

<ol start="10">
  <li>Go to Actions tab and you should see the workflow we just pushed:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/react-ci-cd-workflow.png" alt=""></p>

<ol start="11">
  <li>And after some brief queuing and waiting, you should get the output:</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/publish-site-workflow-output.png" alt=""></p>

<ol start="12">
  <li>Also notice that GitHub‚Äôs own Pages feature is also another action. You can see it in action in the same actions list. Just check ‚Äúpages build and deployment‚Äù jobs after you push code</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-action.png" alt=""></p>

<ol start="13">
  <li>After succesful GitHub Pages build, if you visit your page again you should see a new React app runnning</li>
</ol>

<p><img src="/images/posts/2022/05/github-actions/gh-pages-version-2.png" alt=""></p>

<h2 id="conclusion">Conclusion</h2>
<p>In this post, we covered the basics of GitHub Actions and created a CI/CD pipeline for a React application only by using GitHub. I hope this post has been helpful to you. If you want move coverage on GitHub actions, please leave a comment below.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://github.com/features/actions" target="_blank" rel="noopener noreferrer">GitHub Actions</a></li>
  <li><a href="https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners" target="_blank" rel="noopener noreferrer">GitHub Hosted Runners</a></li>
  <li><a href="https://docs.github.com/en/billing/managing-billing-for-github-actions/about-billing-for-github-actions" target="_blank" rel="noopener noreferrer">GitHub Action Billing</a></li>
</ul>

      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/javascript/hidden-gems-in-javascript-console-api/" title="Hidden gems in JavaScript Console API"><img src="https://devpower.co.uk/images/posts/2022/05/javascript-console/3094293.jpg" alt="Hidden gems in JavaScript Console API"></a>
        <div class="image-credit">Image source: <a target="_blank" href="https://www.freepik.com/vectors/js" rel="noopener noreferrer">www.freepik.com</a>
</div>
<!-- /.image-credit -->

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-22T00:00:00+01:00"><a href="https://devpower.co.uk/javascript/hidden-gems-in-javascript-console-api/">May 22, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/javascript/hidden-gems-in-javascript-console-api/" rel="bookmark" title="Hidden gems in JavaScript Console API" itemprop="url">Hidden gems in JavaScript Console API</a></h1>
    
  </header>
  <div class="entry-content">
      <p>Any developer who wrote any JavaScript code must have used console.log() method at some point to log informational messages or for <a href="https://en.wikipedia.org/wiki/Debugging#Print_debugging" target="_blank" rel="noopener noreferrer">print debugging</a>. However, while that method is quite useful, it is not the only one in our arsenal. So let‚Äôs look at some useful methods that are not very commonly known to most developers.</p>

<h2 id="consoletime--consoletimelog--consoletimeend">console.time() / console.timeLog() / console.timeEnd()</h2>
<p>If you have some long-running tasks and want to get some insights into how long a task takes, these methods are handy. You can start a timer by calling</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">();</span></code></pre></figure>

<p>and end the timer by calling</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">();</span></code></pre></figure>

<p>You can also pass a label to these methods to make the logs more readable. Otherwise, the times are logged under <em>‚Äúdefault‚Äù</em> label.</p>

<p>timeLog() method can be used anywhere between time and timeEnd to log the timer‚Äôs current value.</p>

<p>The example below uses all the features discussed above:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">console</span><span class="p">.</span><span class="nx">time</span><span class="p">();</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="mi">10000000</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">5000000</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">timeLog</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">timeEnd</span><span class="p">();</span></code></pre></figure>

<p>It loops 10 million times and logs the time halfway through (console.timeLog()) and at the end (console.timeEnd())</p>

<p>and the output looks like this:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-time-output.png" alt=""></p>

<h2 id="consoletable">console.table()</h2>
<p>This is a neat little feature that can useful when displaying tabular data. In this example, we are going to get the first 10 results from people endpoint on <a href="https://swapi.py4e.com/" target="_blank" rel="noopener noreferrer">Star Wars API</a> and display them in a table:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="nx">fetch</span> <span class="p">(</span><span class="dl">"</span><span class="s2">https://swapi.py4e.com/api/people/</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">data</span> <span class="o">=&gt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">text</span><span class="p">())</span>
    <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="p">{</span> 
      <span class="nx">console</span><span class="p">.</span><span class="nx">table</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">response</span><span class="p">).</span><span class="nx">results</span><span class="p">);</span>
    <span class="p">});</span></code></pre></figure>

<p>Let‚Äôs check out the results:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-table-output.png" alt=""></p>

<p>And all it takes is 5 lines of code to produce this!</p>

<h2 id="consolewarn--consoleerror">console.warn() / console.error()</h2>
<p>console.log() is fine for logging informational statements, but to make the warning and errors more readable, you can use warn() and error() methods. When checking the console, they surely stand out among all the other log lines.</p>

<p>For example, the following code</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">"</span><span class="s2">warning: half-way through</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">error: all gone now</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>produces this output:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-warn-error-output.png" alt=""></p>

<h2 id="consoledebug">console.debug()</h2>
<p>I chose to cover debug in a separate section even though it works very similarly to log(), warn() and error() methods. By default, the log level in browsers is not set to display debug messages.</p>

<p><img src="/images/posts/2022/05/javascript-console/browser-log-level-settings.png" alt=""></p>

<p>So if we run the previous example with <em>log()</em> call replaced by <em>debug()</em> call, the output looks very simplified:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript">  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">debug</span><span class="p">(</span><span class="nx">i</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">i</span> <span class="o">===</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">"</span><span class="s2">warning: half-way through</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">error: all gone now</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>Output with debug:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-debug-output-hidden.png" alt=""></p>

<p>If we want to see all the statements, we need to explicitly set the logging level to verbose and get the same results as before.</p>

<p><img src="/images/posts/2022/05/javascript-console/log-level-set-to-verbose.png" alt=""></p>

<h2 id="consolegroup--groupend--groupcollapsed">console.group() / groupEnd() / groupCollapsed()</h2>
<p>group() and groupEnd() let us create indented log entries within a group label.</p>

<p>For example, the following code</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 3</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 3</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 2</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>produces this result:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-group-output.png" alt=""></p>

<p>We can also create log entries in a collapsed state so that they can only be viewed when we explicitly expand the log group:</p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">console</span><span class="p">.</span><span class="nx">group</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 1</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">entry 3</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupCollapsed</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hidden stuff until you expand</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hidden entry 1</span><span class="dl">"</span><span class="p">);</span>  
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hidden entry 2</span><span class="dl">"</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">groupEnd</span><span class="p">(</span><span class="dl">"</span><span class="s2">Group 1</span><span class="dl">"</span><span class="p">);</span></code></pre></figure>

<p>By default, the output looks like this:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-group-collapsed.png" alt=""></p>

<p>To see the contents of the collapsed group, we need to expand it explicitly:</p>

<p><img src="/images/posts/2022/05/javascript-console/console-group-expanded.png" alt=""></p>

<h2 id="conclusion">Conclusion</h2>
<p>This post looked into useful Console API methods that are not commonly known. We didn‚Äôt look into non-standard methods such as timeStamp() and profile() to ensure compatibility. I‚Äôd recommend visiting the resources below and looking into all the methods. Some of them are not covered here but might be quite useful to you.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://www.w3schools.com/jsref/obj_console.asp" target="_blank" rel="noopener noreferrer">W3Schools: Window Console Object</a></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console_API" target="_blank" rel="noopener noreferrer">MDN Web Docs: Console API</a></li>
  <li><a href="https://swapi.py4e.com/" target="_blank" rel="noopener noreferrer">Star Wars API</a></li>
</ul>

      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
      <div class="entry-image-index">
        <a href="https://devpower.co.uk/tools/how-to-download-media-from-RSS-feed-with-csharp-6/" title="How to download audio/video from an RSS feed with C# 6.0"><img src="https://devpower.co.uk/images/posts/2022/05/rss-download/64615.jpg" alt="How to download audio/video from an RSS feed with C# 6.0"></a>
        <div class="image-credit">Image source: <a target="_blank" href="https://www.freepik.com/vectors/upload-icon" rel="noopener noreferrer">www.freepik.com</a>
</div>
<!-- /.image-credit -->

      </div>
<!-- /.entry-image -->
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-05-21T00:00:00+01:00"><a href="https://devpower.co.uk/tools/how-to-download-media-from-RSS-feed-with-csharp-6/">May 21, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~1 minute
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/tools/how-to-download-media-from-RSS-feed-with-csharp-6/" rel="bookmark" title="How to download audio/video from an RSS feed with C# 6.0" itemprop="url">How to download audio/video from an RSS feed with C# 6.0</a></h1>
    
  </header>
  <div class="entry-content">
      <p>When you listen to a podcast, your podcast player basically downloads the <a href="https://en.wikipedia.org/wiki/RSS" target="_blank" rel="noopener noreferrer">RSS</a> feed of the publisher. Checks the local downloaded files and downloads the new ones as they come along. In this small project, I‚Äôm going to develop a small C# application that downloads the entire media from an RSS feed.</p>

<p>All the information in the RSS feed is public and clients are meant to download these media files.</p>

<p>Here‚Äôs how the program works in a nutshell:</p>

<ul>
  <li>It accepts 2 arguments: the URL of the RSS feed and the target directory to save the files into</li>
  <li>It then downloads the RSS feed into a temporary XML file</li>
  <li>It parses the XML and gets the following values: Title, publication date and the URL to download</li>
  <li>It loops through all the entries in the feed and saves the files to the local file system (It skips existing files so you can run it multiple times and it won‚Äôt re-download unnecessarily)</li>
  <li>After it‚Äôs done, it deletes the temp XML file</li>
</ul>

<p>That‚Äôs all! Not a fancy podcatcher by no means, but it‚Äôs fun little project that can be used to archive your favourite podcasts.</p>

<p>The entire source code for the C# 6.0 Console Application is below. Enjoy!</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">using</span> <span class="nn">System.Xml</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">System.Net</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">feedUrl</span> <span class="p">=</span> <span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">];</span>
<span class="kt">string</span> <span class="n">feedLocalFileNnme</span> <span class="p">=</span> <span class="s">"temp-feed.xml"</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">targetLocalDirectory</span> <span class="p">=</span> <span class="n">args</span><span class="p">[</span><span class="m">1</span><span class="p">].</span><span class="nf">TrimEnd</span><span class="p">(</span><span class="sc">'/'</span><span class="p">);</span>

<span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WebClient</span><span class="p">())</span>
<span class="p">{</span>
    <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Downloading </span><span class="p">{</span><span class="n">feedUrl</span><span class="p">}</span><span class="s"> to </span><span class="p">{</span><span class="n">feedLocalFileNnme</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">client</span><span class="p">.</span><span class="nf">DownloadFile</span><span class="p">(</span><span class="n">feedUrl</span><span class="p">,</span> <span class="n">feedLocalFileNnme</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">string</span> <span class="n">rawXml</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">ReadAllText</span><span class="p">(</span><span class="n">feedLocalFileNnme</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">xmlDocument</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">XmlDocument</span><span class="p">();</span>
<span class="n">xmlDocument</span><span class="p">.</span><span class="nf">LoadXml</span><span class="p">(</span><span class="n">rawXml</span><span class="p">);</span>

<span class="n">XmlNodeList</span> <span class="n">itemNodeList</span> <span class="p">=</span> <span class="n">xmlDocument</span><span class="p">.</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"/rss/channel/item"</span><span class="p">);</span>

<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">itemNodeList</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span>
<span class="p">{</span>
    <span class="n">XmlNode</span> <span class="n">titleNode</span> <span class="p">=</span> <span class="n">itemNodeList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"title"</span><span class="p">)[</span><span class="m">0</span><span class="p">];</span>
    <span class="n">XmlNode</span> <span class="n">enclosureNode</span> <span class="p">=</span> <span class="n">itemNodeList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"enclosure"</span><span class="p">)[</span><span class="m">0</span><span class="p">];</span>
    <span class="n">XmlNode</span> <span class="n">pubDateNode</span> <span class="p">=</span> <span class="n">itemNodeList</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="nf">SelectNodes</span><span class="p">(</span><span class="s">"pubDate"</span><span class="p">)[</span><span class="m">0</span><span class="p">];</span>
    <span class="kt">string</span> <span class="n">urlToDownload</span> <span class="p">=</span> <span class="n">enclosureNode</span><span class="p">.</span><span class="n">Attributes</span><span class="p">[</span><span class="s">"url"</span><span class="p">].</span><span class="n">Value</span><span class="p">;</span>
    <span class="n">DateTime</span> <span class="n">pubDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">pubDateNode</span><span class="p">.</span><span class="n">InnerText</span><span class="p">);</span>
    <span class="kt">string</span> <span class="n">localFileName</span> <span class="p">=</span> <span class="s">$"</span><span class="p">{</span><span class="n">targetLocalDirectory</span><span class="p">}</span><span class="s">/</span><span class="p">{</span><span class="nf">GetDate</span><span class="p">(</span><span class="n">pubDate</span><span class="p">)}</span><span class="s">-</span><span class="p">{</span><span class="n">titleNode</span><span class="p">.</span><span class="n">InnerText</span><span class="p">}</span><span class="s">.mp3"</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">File</span><span class="p">.</span><span class="nf">Exists</span><span class="p">(</span><span class="n">localFileName</span><span class="p">))</span>
    <span class="p">{</span>
        <span class="k">using</span> <span class="p">(</span><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WebClient</span><span class="p">())</span>
        <span class="p">{</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Downloading </span><span class="p">{</span><span class="n">urlToDownload</span><span class="p">}</span><span class="s"> to </span><span class="p">{</span><span class="n">localFileName</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
            <span class="n">client</span><span class="p">.</span><span class="nf">DownloadFile</span><span class="p">(</span><span class="n">urlToDownload</span><span class="p">,</span> <span class="n">localFileName</span><span class="p">);</span>
            <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">2000</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">$"Skipping. File at </span><span class="p">{</span><span class="n">localFileName</span><span class="p">}</span><span class="s"> already exists."</span><span class="p">);</span>
    <span class="p">}</span>
    
    <span class="kt">string</span> <span class="nf">GetDate</span><span class="p">(</span><span class="n">DateTime</span> <span class="n">pubDate</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">$"</span><span class="p">{</span><span class="n">pubDate</span><span class="p">.</span><span class="n">Year</span><span class="p">}</span><span class="s">-</span><span class="p">{</span><span class="n">pubDate</span><span class="p">.</span><span class="n">Month</span><span class="p">.</span><span class="nf">ToString</span><span class="p">().</span><span class="nf">PadLeft</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="sc">'0'</span><span class="p">)}</span><span class="s">-</span><span class="p">{</span><span class="n">pubDate</span><span class="p">.</span><span class="n">Day</span><span class="p">.</span><span class="nf">ToString</span><span class="p">().</span><span class="nf">PadLeft</span><span class="p">(</span><span class="m">2</span><span class="p">,</span> <span class="sc">'0'</span><span class="p">)}</span><span class="s">"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">File</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="n">feedLocalFileNnme</span><span class="p">);</span></code></pre></figure>

<h3 id="usage">Usage</h3>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">dotnet run <span class="nt">--</span> <span class="o">{</span>RSS URL<span class="o">}</span> <span class="o">{</span>Target Local Directory<span class="o">}</span></code></pre></figure>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://www.w3schools.com/xml/xml_rss.asp" target="_blank" rel="noopener noreferrer">XML RSS</a></li>
</ul>


      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-04-25T00:00:00+01:00"><a href="https://devpower.co.uk/csharp/programming/anonymous-types-in-csharp/">April 25, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~2 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/csharp/programming/anonymous-types-in-csharp/" rel="bookmark" title="Anonymous Types in C#" itemprop="url">Anonymous Types in C#</a></h1>
    
  </header>
  <div class="entry-content">
      <p>In the previous <a href="/csharp/programming/using-var-keyword-in-csharp/">post</a> we talked about the usage of var keyword. One of the main use cases for keyword is <strong>anonymous types</strong>. In thos post, we are going to look closer into anonymous types.</p>

<h2 id="anonymous-types">Anonymous types</h2>
<p>An anonymous type is a nameless class that inherits from object.</p>

<p>The type is inferred, by the compiler, at initialization.</p>

<p>For example, a typical anonymous declaration would look like this:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">person</span> <span class="p">=</span> <span class="k">new</span> 
<span class="p">{</span>
  <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
  <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Power"</span><span class="p">,</span>
  <span class="n">Age</span> <span class="p">=</span> <span class="m">33</span>
<span class="p">};</span>
</code></pre></div></div>

<p>We can see, just like any other object, it supports IntelliSense. We can see all the properties we defined and the methods coming from <em>object</em> such as ToString() and Equals(). So it is a strongly-typed class. We just don‚Äôt know the type.</p>

<p><img src="/images/post-images/2022/04/csharp-anonymous-types/simple-anonymous-type-with-intellisense.png" alt=""></p>

<p>The properties are read-only. If we try to assign another value we get the following error:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Compilation error (line 11, col 3): Property or indexer 'AnonymousType#1.Age' cannot be assigned to -- it is read only
</code></pre></div></div>

<p><img src="/images/post-images/2022/04/csharp-anonymous-types/read-only-assignment-error.png" alt=""></p>

<p>Since we don‚Äôt have a handle of the class, then how can we create another object of this type? The answer is simple: We just create another anonymous type with the same properties.</p>

<p>For example, the following example would compile successfully:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">Program</span>
<span class="p">{</span>
	<span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">()</span>
	<span class="p">{</span>
		<span class="kt">var</span> <span class="n">firstPerson</span> <span class="p">=</span> <span class="k">new</span> 
		<span class="p">{</span>
		  <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"John"</span><span class="p">,</span>
		  <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Power"</span><span class="p">,</span>
		  <span class="n">Age</span> <span class="p">=</span> <span class="m">33</span>
		<span class="p">};</span>
		
		<span class="kt">var</span> <span class="n">secondPerson</span> <span class="p">=</span> <span class="k">new</span> 
		<span class="p">{</span>
		  <span class="n">FirstName</span> <span class="p">=</span> <span class="s">"Jane"</span><span class="p">,</span>
		  <span class="n">LastName</span> <span class="p">=</span> <span class="s">"Power"</span><span class="p">,</span>
		  <span class="n">Age</span> <span class="p">=</span> <span class="m">44</span>
		<span class="p">};</span>
		
		<span class="n">firstPerson</span> <span class="p">=</span> <span class="n">secondPerson</span><span class="p">;</span>
	<span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>secondPerson can be assigned to firstPerson as they have the same type. This is only possible if all the properties match. If we remove the Age property from the secondPerson, we get the error shown below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Compilation error (line 18, col 17): Cannot implicitly convert type 'AnonymousType#1' to 'AnonymousType#2'
</code></pre></div></div>

<h3 id="shorthand-declarations">Shorthand Declarations</h3>
<p>The names of the properties can also be inferred if they are being assigned from another object. For example, if we wanted to create a second object of the same type, with the same values we could use this syntax:</p>

<p><img src="/images/post-images/2022/04/csharp-anonymous-types/shorthand-declaration.png" alt=""></p>

<p>As you can see in the screenshot above, we can still see the same property names as the firstPerson object.</p>

<p class="panel-note top-padding">The same feature exists in ES6. For more info, check out <a href="https://alligator.io/js/object-property-shorthand-es6/" target="_blank" rel="noopener noreferrer">this blog post</a> </p>

<h3 id="internals-of-anonymous-types">Internals of Anonymous Types</h3>
<p>So what happens when we compile our application with anonymous types? The type names are generated automatically by the compiler.</p>

<p>The example below shows how our class looks like with IL viewer:</p>

<p><img src="/images/post-images/2022/04/csharp-anonymous-types/anonymous-type-in-IL-viewer.png" alt=""></p>

<p>The firstPerson and secondPerson objects defined (of same type) are declared as:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>instance void class '&lt;&gt;f__AnonymousType0`3'&lt;string, string, int32&gt;::.ctor(!0/*string*/, !1/*string*/, !2/*int32*/)
</code></pre></div></div>

<p>The reason these auto-generated type names are hidden from the developer is that we don‚Äôt actually need to know what they are. So it‚Äôs generally a bad practice trying to find out these types via reflection.</p>

<p>The final example shows the IL output when Age property is removed from the secondPerson object. Now that the properties don‚Äôt match with firstPerson, the compiler generates a new type for secondPerson named <em>&lt;&gt;f__AnonymousType1`2</em>:</p>

<p><img src="/images/post-images/2022/04/csharp-anonymous-types/multiple-anonymous-types-in-IL-viewer.png" alt=""></p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/fundamentals/types/anonymous-types" target="_blank" rel="noopener noreferrer">Anonymous Types</a></li>
</ul>

      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->

<article class="hentry">
  <header>
    
    <div class="entry-meta">
      <span class="entry-date date published updated"><time datetime="2022-04-18T00:00:00+01:00"><a href="https://devpower.co.uk/csharp/programming/using-var-keyword-in-csharp/">April 18, 2022</a></time></span><span class="author vcard"><span class="fn"><a href="https://devpower.co.uk/about/" title="About Volkan Paksoy">Volkan Paksoy</a></span></span>
      
      <span class="entry-reading-time">
        <i class="fa fa-clock-o"></i>
        
        Reading time ~3 minutes
      </span><!-- /.entry-reading-time -->
      
    </div>
<!-- /.entry-meta -->
    
      <h1 class="entry-title"><a href="https://devpower.co.uk/csharp/programming/using-var-keyword-in-csharp/" rel="bookmark" title="Using var keyword in C#" itemprop="url">Using var keyword in C#</a></h1>
    
  </header>
  <div class="entry-content">
      <p>The var keyword in C# gives the programmer freedom to declare variables with implicit type using the <strong>var</strong> keyword. However, when to use it is a highly debated subject in the C# community. In this post, we will look at the origins of the var keyword and our conclusion on when to use it.</p>

<h2 id="origins">Origins</h2>
<p>The var keyword was introduced in C# 3.0, and it allows declaring ‚Äúimplicit‚Äù variable declarations. The variables declared with the var keyword are still strongly typed. The difference is that you don‚Äôt need to declare it yourself; the compiler determines the type.</p>

<p>For example, the following code would not compile:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">i</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">i</span> <span class="p">=</span> <span class="s">"x"</span><span class="p">;</span>
</code></pre></div></div>

<p>When i is declared, the type is determined to be an integer, so the string assignment fails with the following error:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Compilation error (line 7, col 7): Cannot implicitly convert type 'string' to 'int'
</code></pre></div></div>

<p>For the same reason, as you can imagine, you cannot just declare a variable with var type such as:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">i</span><span class="p">;</span>
</code></pre></div></div>

<p>which would fail with the following error:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Implicitly-typed local variables must be initialized
</code></pre></div></div>

<h2 id="usage">Usage</h2>
<p>Var keyword mainly has two usages:</p>

<ol>
  <li>Declare anonymous types</li>
  <li>Not repeat type name in a variable declaration and object instantiation</li>
</ol>

<p>The first usage is non-debatable, meaning that if you declare anonymous types, var is your only option. Below is an example of using the var keyword to declare an anonymous type:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var person = new {Id = 1, Name = "Jack", Age = 25 }
</code></pre></div></div>

<p>Another use case is a query expression where you select a new type.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var somePeople = from person in people
                 where person.Age &gt; 20
                 select new { person.Id, person.Name }
</code></pre></div></div>

<p>In the second example, we create a new type on the fly rather than returning an existing one, so we must use the var keyword.</p>

<h2 id="the-debate">The debate</h2>
<p>The debate around when to use var revolves around the second usage, as the first one is mandatory if you need anonymous types. The question is should we use it as a shortcut and skip type declarations? Does that make the code easier or harder to read?</p>

<p>For example, consider a complex variable declaration as shown below:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;&gt;&gt;</span> <span class="n">items</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;&gt;&gt;();</span>
</code></pre></div></div>

<p>We can declare the same variable with the var keyword:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">items</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;&gt;&gt;();</span>
</code></pre></div></div>

<p>In my opinion, the second option is a lot clearer and makes the code easier to read.</p>

<p class="panel-note top-padding">Try to avoid duplication whenever possible.</p>

<p>Now let‚Äôs take a look at another example:</p>

<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">userService</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">UserService</span><span class="p">();</span>
<span class="kt">var</span> <span class="n">user</span> <span class="p">=</span> <span class="n">userService</span><span class="p">.</span><span class="nf">GetUser</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
</code></pre></div></div>

<p>What is the type of ‚Äúuser‚Äù? Without the help of the IDE we are using, there is no way to know for sure just by looking at the code above. It can be a User class; it can be an IUser interface or a subclass of User. At this point, we don‚Äôt know.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Here‚Äôs my rule of thumb on when to use var:</p>

<p class="panel-note">If the type of the variable is clear in the initialization of the variable, it‚Äôs ok to use var</p>

<p>For example, to review the above example, I‚Äôd go with explicit usage:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var userService = new UserService();
User user = userService.GetUser(1);
</code></pre></div></div>

<p>But if I were declaring the variable with a new keyword, I‚Äôd go with var:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var user = new User();
</code></pre></div></div>

<p>The benefit of this is approach is especially obvious with complex types like the dictionary shown above:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var items = new Dictionary&lt;string, Dictionary&lt;string, List&lt;string&gt;&gt;&gt;();
</code></pre></div></div>

<p>In this case, duplicating the type name doesn‚Äôt add more clarity.</p>

<p>I hope this article helps you decide when to use the var keyword in C#.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/keywords/var" target="_blank" rel="noopener noreferrer">var (C# reference)</a></li>
  <li><a href="https://docs.microsoft.com/en-us/dotnet/csharp/fundamentals/types/anonymous-types" target="_blank" rel="noopener noreferrer">Anonymous Types</a></li>
</ul>

      
  </div>
<!-- /.entry-content -->
</article><!-- /.hentry -->



<div class="pagination">
  <ul class="inline-list">
    
    
      
        <li><a href="https://devpower.co.uk/" class="btn">Previous</a></li>
      
    

    
    
      <li><a href="https://devpower.co.uk/">1</a></li>
    

    
    

    
    
    

    
      
        <li><strong class="current-page">2</strong></li>
      
    
      
        
        
        
        <li><a href="https://devpower.co.uk/page3/">3</a></li>
      
    

    
    

    
      <li><a href="https://devpower.co.uk/page4/">4</a></li>
    

    
    
      <li><a href="https://devpower.co.uk/page3/" class="btn">Next</a></li>
    
  </ul>
</div>


</div><!-- /#main -->

<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="https://devpower.co.uk/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script type="text/javascript" src="https://devpower.co.uk/assets/js/scripts.min.js"></script>
<script type="text/javascript" async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
<script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>



<!-- Asynchronous Google Analytics snippet -->
<!--script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'G-V0VB7KHEQV', 'auto');
  ga('require', 'linkid', 'linkid.js');
  ga('send', 'pageview');
</script-->

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-V0VB7KHEQV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-V0VB7KHEQV');
</script>








<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>¬© 2022 DevPower.co.uk </span>

  </footer>
</div><!-- /.footer-wrapper -->

</body>
</html>
